id: SC-004
name: User Logout
description: Logout from the application and verify redirect
tags: [auth, logout]

steps:
  - step: 1
    action: navigate
    value: "{{url}}/login"
    description: Open login page

  - step: 2
    action: find_and_type
    target:
      text: "Email"
    value: "test@example.com"
    humanize: true
    description: Type email to login

  - step: 3
    action: find_and_type
    target:
      text: "Password"
    value: "password123"
    humanize: true
    description: Type password to login

  - step: 4
    action: find_and_click
    target:
      text: "Login"
    humanize: true
    description: Click Login button

  - step: 5
    action: assert
    assert_type: url_contains
    expected:
      - type: url_contains
        value: "/main"
    description: Verify logged in

  - step: 6
    action: find_and_click
    target:
      text: "Logout"
    humanize: true
    description: Click Logout in navigation

  - step: 7
    action: assert
    assert_type: text_visible
    expected:
      - type: text_visible
        value: "You have been logged out"
    description: Verify logout message

  - step: 8
    action: assert
    assert_type: text_visible
    expected:
      - type: text_visible
        value: "Welcome to AAT Demo"
    description: Verify redirected to landing page
